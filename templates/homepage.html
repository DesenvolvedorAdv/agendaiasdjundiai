{% extends "base.html" %}
{% load static %}

{% block head %}
<link href="../static/css/hero.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<style>
.accordion-item {
    border-color: white;
}
.accordion-button {
    color: black; /* Ajuste para a cor do texto aqui, se necessário */
}
/* Estilos padrão para desktop */
section.tm {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    background-color: black;
    width: 100%;
    height: 100%;
    /* Define uma altura base que pode crescer em telas menores */
    /* min-height: 98vh; Assume a altura total da viewport como altura mínima */
}

.flex-col {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    gap: 0;
    width: 100%;
    height: auto; /* Alterado para auto para permitir crescimento */
}

.hero-section {
    background-color: black;
    width: 100%;
    display: flex;
    justify-content:  flex-start;
    align-items: center;
}

.hero-section video {
    width: 95%; /* Mantém a largura relativa ao contêiner */
    min-height: 100vh; /* Altura mínima inicial para garantir cobertura adequada */
    max-height: 600px;
    object-fit: cover;
    autoplay: true;
    loop: true;
    muted: true;
}

/* Tablets em orientação paisagem e retrato */
@media (min-width: 768px) and (max-width: 1024px) {
    .tm, .hero-section {
        max-height: 900px; /* Altura máxima para tablets */
    }
}

/* Celulares em orientação paisagem e retrato */
@media (max-width: 767px) {
    .tm, .hero-section {
        height: 80%;
        min-height: 0;
        max-height: 500px;
    }
}
@media (max-width: 480px) {
    .tm, .hero-section {
        height: 100%;
        min-height: 0;
        max-height: 400px; /* Altura máxima para celulares */
    }}
/* Media Queries */
@media (max-width: 767px) {
    .tm, .hero-section {
        height: 100%;
        max-height: 500px; /* Altura máxima para celulares */
    }
    .hero-section video {
        min-height: auto; /* Pode ser necessário ajustar se você quiser uma altura mínima específica */
        max-height: 100%; /* Garante que o vídeo não exceda a altura do contêiner */
    }
}

@media (max-width: 480px) {
    .tm, .hero-section {
        height: 100%;
        min-height: 0;
        max-height: 400px; /* Altura máxima ajustada para dispositivos ainda menores */
    }
}
</style>
{% endblock %}
{% block content %}

<section class="tm">
    <div class="espaco-superior flex flex-col gap-0 w-full h-full">
        <div class="text-white text-[70px] font-bold font-['Roboto'] leading-[90px]" style="width: 95%;">Reserva das Salas</div>
        <div class="hero-section w-full flex justify-center">
            <video src="static/video/videoigreja.mp4" autoplay loop muted style="width: 95%; object-fit: cover;"></video>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Ajusta a altura após o carregamento da página
            adjustSectionHeight();
        
            // Ajusta a altura ao redimensionar a janela, se necessário
            window.addEventListener('resize', adjustSectionHeight);
        
            function adjustSectionHeight() {
                // Supondo que seu vídeo tenha um ID ou uma classe específica
                var videoElement = document.querySelector('.hero-section video');
                if (videoElement) {
                    // Obtém a altura do vídeo
                    var videoHeight = videoElement.offsetHeight;
        
                    // Define a altura do contêiner .tm ou .hero-section, adicionando 16px à altura do vídeo
                    document.querySelector('.tm').style.height = `${videoHeight + 32}px`;
                    // Se quiser aplicar a ambos os elementos, repita o processo para .hero-section
                }
            }
        });
    </script>
</section>
<!-- <section class="justify-start inline-flex bg-black w-full h-full tm">
    <div class="espaco-superior flex flex-col gap-0 w-full h-full">
         <div class="text-white text-[70px] font-bold font-['Roboto'] leading-[90px]" style="width: 95%; height: 95%;">Reserva das Salas</div>
        <div class="hero-section w-full h-full flex justify-center items-center">
            <video src="static/video/videoigreja.mp4" style="width: 95%; height: 95%; object-fit: cover;" autoplay loop muted></video>
        </div>
    </div>
</section> -->

<section class="flex flex-col justify-start items-start gap-20 bg-white px-4 py-7 md:px-16 md:py-28 w-full max-w-screen-xl mx-auto">
    <div class="flex font-['Roboto'] flex-col md:flex-row self-stretch justify-start items-start gap-20">
        <div class="flex flex-col justify-start items-start gap-8 grow">
            <div class="flex flex-col justify-start items-start gap-4">
                <div class="text-black text-3xl md:text-5xl font-bold">Reservas Descomplicadas: Guia do App</div>
                <div class="text-black text-base md:text-lg">Descubra como facilitar suas reservas com nosso guia completo. Navegue pelo processo de forma simples e intuitiva, da seleção do horário ao acompanhamento de suas solicitações, tudo em um só lugar.</div>
            </div>
        </div>
        <div class="flex flex-col justify-start items-start gap-4 grow">
            <!-- Time Line Step 1 -->
            <div class="flex flex-col md:flex-row justify-start items-start gap-10 mb-4">
                <div class="flex flex-col justify-start items-center gap-4">
                    <div class="w-10 h-10 flex justify-center items-center relative mb-4">
                        <img src="static/img/ic_calendar.png" alt="Envio de Solicitação" class="h-10 w-10" style="margin-bottom: 16px;">
                    </div>
                    <!-- Container adicional para a linha, garantindo espaçamento correto -->
                    <div class="flex justify-center items-center">
                        <div class="w-0 h-[56px] md:w-[100px] md:h-0 md:rotate-90 border-2 border-black"></div>
                    </div>
                </div>
                <div class="flex flex-col justify-start items-start gap-2.5 grow">
                    <div class="text-black text-xl font-bold">Envio de Solicitação</div>
                    <div class="text-black text-base">Após escolher a sala desejada, selecione o horário disponível. Nosso pop-up intuitivo simplifica o processo, proporcionando facilidade e praticidade na realização do agendamento.</div>
                </div>
            </div>
            <div class="flex flex-col md:flex-row justify-start items-start gap-10 mb-4">
                <div class="flex flex-col justify-start items-center gap-4">
                    <div class="w-12 h-12 flex justify-center items-center relative mb-4">
                        <img src="static/img/ic_gc.png" alt="Acompanhamento da Reserva" class="h-10 w-10" style="margin-bottom: 16px;">
                    </div>
                    <div class="w-0 h-[56px] md:w-[100px] md:h-0 md:rotate-90 border-2 border-black"></div>
                </div>
                <div class="flex flex-col justify-start items-start gap-2.5 grow">
                    <div class="text-black text-xl font-bold">Acompanhamento da Reserva</div>
                    <div class="text-black text-base">Confira o status das suas reservas em seu perfil. Mantemos você atualizado sobre suas solicitações, proporcionando uma maneira fácil e clara de visualizar o calendário.</div>
                </div>
            </div>
            <div class="flex flex-col md:flex-row justify-start items-start gap-10">
                <div class="flex flex-col justify-start items-center gap-4 mb-4">
                    <div class="w-12 h-12 flex justify-center items-center relative mb-4">
                        <img src="static/img/ic_dv.png" alt="Acompanhamento da Reserva" class="h-10 w-10" style="margin-bottom: 16px;">
                    </div>
                    <div class="w-0 h-[56px] md:w-[100px] md:h-0 md:rotate-90 border-2 border-black"></div>
                </div>
                <div class="flex flex-col justify-start items-start gap-2.5 grow">
                    <div class="text-black text-xl font-bold">Dúvidas Frequentes (FAQ)</div>
                    <div class="text-black text-base">Acesse nossa seção de Perguntas Frequentes para obter respostas rápidas e claras. Encontre informações adicionais e esclareça qualquer dúvida que possa surgir durante o processo de reserva.</div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="bg-black flex flex-col justify-start gap-4 grow py-18">
    <div class="relative w-full h-full">
        <div style="width: 100%; height: 811px; left: 1px; top: -32px; position: absolute; background: black"></div>
        <div class="absolute top-0 left-0 w-full md:w-auto h-64 md:h-auto p-14 md:p-0 md:px-20 text-white text-6xl font-staatliches font-['Roboto'] leading-tight break-words">Selecione uma sala<br/>abaixo para solicitar<br/>um horário.</div><!-- md:text-9xl -->
        <div style="width: 100%; height: 537px; padding: 56px; left: 0px; top: 160px; position: absolute; border-radius: 32px; justify-content: flex-start; align-items: flex-start; gap: 56px; display: inline-flex">
    <script>
        let defaultTransform = 0;
        function goNext() {
            defaultTransform -= 398;
            var slider = document.getElementById("slider");
            if (Math.abs(defaultTransform) >= slider.scrollWidth / 1.7) {
                defaultTransform = 0;
            }
            slider.style.transform = `translateX(${defaultTransform}px)`;
        }
    
        function goPrev() {
            var slider = document.getElementById("slider");
            if (Math.abs(defaultTransform) === 0) {
                defaultTransform = 0;
            } else {
                defaultTransform += 398;
            }
            slider.style.transform = `translateX(${defaultTransform}px)`;
        }
    
        document.addEventListener('DOMContentLoaded', (event) => {
            var next = document.getElementById("next");
            var prev = document.getElementById("prev");
    
            next.addEventListener("click", goNext);
            prev.addEventListener("click", goPrev);
        });
    </script>
    
    {% include 'pop_up.html' %}
    
    <div class="flex items-center justify-center w-full h-full py-24 sm:py-8 px-4">
        <!--- more free and premium Tailwind CSS components at https://tailwinduikit.com/ --->
        <div class="w-full relative flex items-center justify-center">
            <button aria-label="slide backward" class="absolute z-30 left-0 ml-10 focus:outline-none focus:bg-gray-400 focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 cursor-pointer" id="prev">
                <svg class="dark:text-gray-900" width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7 1L1 7L7 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </button>
            <div class="w-full h-full mx-auto overflow-x-hidden overflow-y-hidden">
                <div id="slider" class="h-full flex lg:gap-8 md:gap-6 gap-14 items-center justify-start transition ease-out duration-700">
                    {% for sala in list_salas %}
                        <div class="flex flex-shrink-0 relative w-full sm:w-auto" data-modal-open data-room-id="{{ sala.id }}" data-room-name="{{ sala.name }}">
                            <img src="{{ sala.thumb.url }}" alt="black chair and white table" class="object-cover object-center h-64 w-80" style="border-radius: 6px"/>
                            <div class="bg-gray-800 bg-opacity-30 absolute p-6 w-full h-full"> <!--  -->
                                <h2 class="lg:text-xl leading-4 text-base lg:leading-5 text-white dark:text-gray-900">{{ sala.name }}</h2>
                                </div>
                            </div>
                            <div class="flex h-full items-end pt-6 ">
                                <!-- <h3 class="text-xl lg:text-2xl font-semibold leading-5 lg:leading-6 text-white dark:text-gray-900">{{ sala.name }}</h3> -->
                            </div>
                    {% endfor %}
                </div>
            </div>
            <button aria-label="slide forward" class="absolute z-30 right-0 mr-10 focus:outline-none focus:bg-gray-400 focus:ring-2 focus:ring-offset-2 focus:ring-gray-400" id="next">
                <svg class="dark:text-gray-900" width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 1L7 7L1 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </button>
        </div>
    </div>    
</section>


<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        let defaultTransform = 0;
        const itemWidth = 398; // Largura aproximada de cada item, ajuste conforme necessário
        const spacingBetweenItems = 14; // Espaço entre itens, ajuste conforme necessário
        const numberOfVisibleItems = 3; // Quantos itens você deseja que sejam visíveis ao mesmo tempo
        let isDragging = false;
        let startPos = 0;
        let currentTransform = 0;
        let previousTouch = 0;

        const slider = document.getElementById("slider");

        slider.addEventListener('mousedown', startDrag);
        window.addEventListener('mouseup', stopDrag);
        slider.addEventListener('mousemove', dragging);

        slider.addEventListener('touchstart', startDrag);
        slider.addEventListener('touchend', stopDrag);
        slider.addEventListener('touchmove', dragging);

        function startDrag(e) {
            isDragging = true;
            startPos = e.pageX || e.touches[0].pageX;
            currentTransform = defaultTransform;
            slider.classList.add('grabbing');
        }

        function stopDrag(e) {
            if (!isDragging) return;
            isDragging = false;
            defaultTransform = currentTransform;
            slider.classList.remove('grabbing');
        }

        function dragging(e) {
            if (!isDragging) return;
            const currentPos = e.pageX || e.touches[0].pageX;
            const diff = currentPos - startPos;
            currentTransform = defaultTransform + diff;
            slider.style.transform = `translateX(${currentTransform}px)`;
        }

        const next = document.getElementById("next");
        const prev = document.getElementById("prev");

        next.addEventListener("click", () => changeSlide(-1));
        prev.addEventListener("click", () => changeSlide(1));

        function changeSlide(direction) {
            const maxTransform = -(slider.scrollWidth - numberOfVisibleItems * (itemWidth + spacingBetweenItems));
            defaultTransform += direction * (itemWidth + spacingBetweenItems); // Move um item por vez, incluindo o espaço entre eles

            if (defaultTransform < maxTransform) {
                defaultTransform = 0; // Reset se atingir o final
            } else if (defaultTransform > 0) {
                defaultTransform = maxTransform;
            }

            slider.style.transform = `translateX(${defaultTransform}px)`;
        }
    });
</script>

<div class="container mt-5">
    <div class="accordion" id="accordionExample">
        {% for question in questions %}
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading{{ forloop.counter }}">
                <button class="accordion-button {% if not forloop.first %}collapsed{% endif %}" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ forloop.counter }}" aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}" aria-controls="collapse{{ forloop.counter }}">
                    {{ question.question }}
                </button>
            </h2>
            <div id="collapse{{ forloop.counter }}" class="accordion-collapse collapse {% if forloop.first %}show{% endif %}" aria-labelledby="heading{{ forloop.counter }}" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    {{ question.response }}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.5/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

{% endblock %}
